{"version":3,"sources":["webpack:///./src/App.vue?94a0","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/router/index.js","webpack:///./src/util/storage.js","webpack:///src/components/page/page.vue","webpack:///./src/components/page/page.vue?1d3b","webpack:///./src/components/page/page.vue","webpack:///./src/components/index.js","webpack:///./src/util/highlight.js","webpack:///./src/main.js","webpack:///external \"Vue\"","webpack:///external \"VueRouter\""],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","staticClass","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","name","Vue","use","Router","routes","path","component","resolve","require","__WEBPACK_AMD_REQUIRE_ARRAY__","apply","bind","catch","oe","router","mode","scrollBehavior","to","from","savedPosition","x","y","storage","set","key","value","console","log","undefined","localStorage","setItem","stringify_default","_type","typeof_default","get","defaultValue","item","getItem","ret","JSON","parse","page","data","open","docked","props","title","type","String","default","Object","backable","Boolean","methods","toggle","$refs","page_page","_vm","ref","slot","src","_v","on","itemClick","$event","href","target","_t","components_page_page","page_normalizeComponent","ssrContext","components","install","QiuPen","highlighter","classes","classAppliers","init","rangy","forEach","classApplier","createClassApplier","ignoreWhiteSpace","elementTagName","push","create","document","createHighlighter","addClassApplier","save","book","bookKey","selectedText","cfi","color","store","chapterPos","renderer","currentChapter","spinePos","serStr","serialize","hlObj","highlight","Date","getTime","createTime","note","unshift","load","hlObjs","result","deserialize","clear","window","config","productionTip","prototype","$storage","ui","el","template","App","module","exports","VueRouter"],"mappings":"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","file":"static/js/app.e7c95b8aed65dcf0e8f5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app\",attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-055dd83b\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-055dd83b\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n    <div id=\"app\" class=\"app\">\n        <router-view/>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: 'app'\n    }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","import Vue from 'vue'\nimport Router from 'vue-router'\n\nconst Book = resolve => require(['@/views/Book'], resolve)\nconst Reader = resolve => require(['@/views/Reader'], resolve)\nconst Editor = resolve => require(['@/views/Editor'], resolve)\nconst Error404 = resolve => require(['@/views/error/Error404'], resolve)\n\nVue.use(Router)\n\nlet routes = [\n    {\n        path: '/',\n        component: Book\n    },\n    {\n        path: '/books/:id',\n        component: Reader\n    },\n    {\n        path: '/editor',\n        component: Editor\n    },\n    {\n        path: '*',\n        component: Error404\n    }\n]\n\nlet router = new Router({\n    mode: 'history',\n    routes: routes,\n    scrollBehavior (to, from, savedPosition) {\n        return {\n            x: 0,\n            y: 0\n        }\n    }\n})\n\nexport default router\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","const storage = {\n    set (key, value) {\n        console.log('set', key, value)\n        if (value === undefined || value === null) {\n            localStorage.setItem(key, null)\n            return\n        }\n        if (typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean') {\n            localStorage.setItem(key, JSON.stringify({\n                _type: typeof value,\n                value: value\n            }))\n        } else {\n            localStorage.setItem(key, JSON.stringify(value))\n        }\n    },\n    get (key, defaultValue) {\n        // console.log('storage get ' + key)\n        let item = localStorage.getItem(key)\n        if (item === null) {\n            return defaultValue || null\n        }\n        let ret = JSON.parse(item)\n        if (ret && typeof ret === 'object') {\n            if (ret._type === 'string' || ret._type === 'number' || ret._type === 'boolean') {\n                return ret.value\n            }\n        }\n        return ret\n    },\n    setItem (key, value) {\n        this.set(key, value)\n        return this\n    },\n    getItem (key) {\n        return this.get(key)\n    }\n}\n\n// let storage2 = new Proxy(storage, {\n//   get: function (target, key, receiver) {\n//     storage.get(key)\n//     return Reflect.get(target, key, receiver)\n//   },\n//   set: function (target, key, value, receiver) {\n//     storage.set(key, value)\n//     return Reflect.set(target, key, value, receiver)\n//   }\n// })\n\nexport default storage\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/storage.js","<template>\n    <ui-page :title=\"title || page.title\" :page=\"page\" :backable=\"backable\" ref=\"page\">\n        <div slot=\"drawer\">\n            <div class=\"header\">\n                <img class=\"logo\" src=\"https://cdn.luogu.com.cn/upload/usericon/514850.png\">\n            </div>\n            <ui-list @itemClick=\"toggle()\">\n                <ui-list-item title=\"首页\" to=\"/\">\n                    <ui-icon slot=\"left\" value=\"grade\"/>\n                </ui-list-item>\n                <!-- <ui-list-item title=\"编辑器\" to=\"/editor\">\n                    <ui-icon slot=\"left\" value=\"grade\"/>\n                </ui-list-item> -->\n                <ui-list-item title=\"帮助\" href=\"https://project.yunser.com/articles/ddfecb2002e511e9ad8de53d942e6191\" target=\"_blank\">\n                    <ui-icon slot=\"left\" value=\"grade\"/>\n                </ui-list-item>\n                <ui-list-item title=\"联系 Acerkaio\" href=\"https://blog.acerkaio.top/\" target=\"_blank\">\n                    <ui-icon slot=\"left\" value=\"grade\"/>\n                </ui-list-item>\n            </ui-list>\n        </div>\n        <slot></slot>\n    </ui-page>\n</template>\n\n<script>\n    export default {\n        data() {\n            return {\n                open: false,\n                docked: true\n            }\n        },\n        props: {\n            title: {\n                type: String,\n                default: ''\n            },\n            name: {\n                type: String,\n                default: 'default'\n            },\n            page: {\n                type: Object,\n                default: function () {\n                    return {\n                        title: '云设'\n                    }\n                }\n            },\n            backable: {\n                type: Boolean,\n                default: false\n            }\n        },\n        methods: {\n            toggle() {\n                console.log(this.$refs.page)\n            }\n        }\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n.header {\n    padding: 40px 0;\n    border-bottom: 1px solid rgba(0, 0, 0, 0.12);\n}\n.logo {\n    display: block;\n    width: 80px;\n    margin: 0 auto;\n}\n.ui-position-bottom {\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/page/page.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ui-page',{ref:\"page\",attrs:{\"title\":_vm.title || _vm.page.title,\"page\":_vm.page,\"backable\":_vm.backable}},[_c('div',{attrs:{\"slot\":\"drawer\"},slot:\"drawer\"},[_c('div',{staticClass:\"header\"},[_c('img',{staticClass:\"logo\",attrs:{\"src\":\"https://cdn.luogu.com.cn/upload/usericon/514850.png\"}})]),_vm._v(\" \"),_c('ui-list',{on:{\"itemClick\":function($event){return _vm.toggle()}}},[_c('ui-list-item',{attrs:{\"title\":\"首页\",\"to\":\"/\"}},[_c('ui-icon',{attrs:{\"slot\":\"left\",\"value\":\"grade\"},slot:\"left\"})],1),_vm._v(\" \"),_c('ui-list-item',{attrs:{\"title\":\"帮助\",\"href\":\"https://project.yunser.com/articles/ddfecb2002e511e9ad8de53d942e6191\",\"target\":\"_blank\"}},[_c('ui-icon',{attrs:{\"slot\":\"left\",\"value\":\"grade\"},slot:\"left\"})],1),_vm._v(\" \"),_c('ui-list-item',{attrs:{\"title\":\"联系 Acerkaio\",\"href\":\"https://blog.acerkaio.top/\",\"target\":\"_blank\"}},[_c('ui-icon',{attrs:{\"slot\":\"left\",\"value\":\"grade\"},slot:\"left\"})],1)],1)],1),_vm._v(\" \"),_vm._t(\"default\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-68a23066\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/page/page.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-68a23066\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./page.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./page.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./page.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-68a23066\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./page.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-68a23066\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/page/page.vue\n// module id = null\n// module chunks = ","import page from './page'\n\nexport default {\n    install: function (Vue) {\n        Vue.component('my-page', page)\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/index.js","/* eslint-disable */\nimport storage from './storage'\n\nvar QiuPen = {\n    highlighter: null\n}\n\nvar classes = [\n    'hl-red', 'hl-orange', 'hl-yellow', 'hl-green', 'hl-blue', 'hl-purple',\n    'line-red', 'line-orange', 'line-yellow', 'line-green', 'line-blue', 'line-purple'\n]\nvar classAppliers = []\n\nfunction Highlight(chapterPos, highlight) {\n    this.chapterPos = chapterPos\n    this.highlight = highlight\n}\n\nQiuPen.init = function () {\n    rangy.init(); // 初始化rangy模块\n    classes.forEach(function (item) {\n        var classApplier = rangy.createClassApplier(item, {\n            ignoreWhiteSpace: true,\n            elementTagName: 'span'\n        })\n        classAppliers.push(classApplier)\n    })\n}\n\nQiuPen.create = function (document) {\n    QiuPen.highlighter = rangy.createHighlighter(document); // 创建一个highlighter\n    classAppliers.forEach(function (item) {\n        QiuPen.highlighter.addClassApplier(item)\n    })\n}\n\nQiuPen.save = function (book, bookKey, selectedText, cfi, color) {\n    console.log('selectedText', selectedText)\n    var store = storage.get('highlight', {})\n\n    store[bookKey] = store[bookKey] || []\n    var chapterPos = book.renderer.currentChapter.spinePos\n    console.log('保存')\n    console.log(chapterPos)\n    var serStr = QiuPen.highlighter.serialize()\n    console.log(serStr)\n    \n    var hlObj = new Highlight(chapterPos, serStr, selectedText)\n    hlObj.id = '' + new Date().getTime()\n    hlObj.createTime = new Date().getTime()\n    hlObj.cfi = cfi\n    hlObj.color = color\n    hlObj.note = ''\n    hlObj.selectedText = selectedText\n\n    console.log(hlObj)\n    store[bookKey].unshift(hlObj)\n    \n    storage.set('highlight', store)\n}\n\nQiuPen.load = function (book, bookKey) {\n    console.log('bookKey', bookKey)\n    var store = storage.get('highlight', {})\n    var hlObjs = store[bookKey]\n    if (!hlObjs) return\n    var chapterPos = book.renderer.currentChapter.spinePos\n    var result = null\n    hlObjs.forEach(function (item) {\n        if (item.chapterPos === chapterPos) {\n            result = item\n        }\n    })\n    if (!result) return\n    QiuPen.highlighter.deserialize(result.highlight)\n}\n\nQiuPen.clear = function (bookKey) {\n    var store = storage.get('highlight', {})\n    var hlObjs = store[bookKey]\n    if (!hlObjs) return\n    delete store[bookKey]\n    storage.set('highlight', store)\n}\n\nwindow.QiuPen = QiuPen\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/highlight.js","import Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport storage from '@/util/storage'\nimport ui from './components/index'\nimport './util/highlight'\nimport './scss/main.scss'\n\nVue.config.productionTip = false\n\nVue.prototype.$storage = storage\n\nVue.use(ui)\n\n/* eslint-disable no-new */\nnew Vue({\n    el: '#app',\n    router,\n    template: '<App/>',\n    components: {App}\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","module.exports = Vue;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"Vue\"\n// module id = lRwf\n// module chunks = 5","module.exports = VueRouter;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"VueRouter\"\n// module id = pRNm\n// module chunks = 5"],"sourceRoot":""}