webpackJsonp([5],{NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=n("lRwf"),i=n.n(l),o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"app",attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]},r=n("VU/8")({name:"app"},o,!1,null,null,null).exports,a=n("pRNm"),c=n.n(a);i.a.use(c.a);var s=[{path:"/",component:function(e){return n.e(1).then(function(){var t=[n("07ZH")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/books/:id",component:function(e){return n.e(0).then(function(){var t=[n("a5EX")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/editor",component:function(e){return n.e(2).then(function(){var t=[n("32+e")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"*",component:function(e){return n.e(3).then(function(){var t=[n("Q0BS")];e.apply(null,t)}.bind(this)).catch(n.oe)}}],u=new c.a({mode:"history",routes:s,scrollBehavior:function(e,t,n){return{x:0,y:0}}}),p=n("pFYg"),h=n.n(p),g=n("mvHQ"),f=n.n(g),d={set:function(e,t){console.log("set",e,t),void 0!==t&&null!==t?"string"==typeof t||"number"==typeof t||"boolean"==typeof t?localStorage.setItem(e,f()({_type:void 0===t?"undefined":h()(t),value:t})):localStorage.setItem(e,f()(t)):localStorage.setItem(e,null)},get:function(e,t){var n=localStorage.getItem(e);if(null===n)return t||null;var l=JSON.parse(n);return!l||"object"!==(void 0===l?"undefined":h()(l))||"string"!==l._type&&"number"!==l._type&&"boolean"!==l._type?l:l.value},setItem:function(e,t){return this.set(e,t),this},getItem:function(e){return this.get(e)}},v={data:function(){return{open:!1,docked:!0}},props:{title:{type:String,default:""},name:{type:String,default:"default"},page:{type:Object,default:function(){return{title:"云设"}}},backable:{type:Boolean,default:!1}},methods:{toggle:function(){console.log(this.$refs.page)}}},m={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ui-page",{ref:"page",attrs:{title:e.title||e.page.title,page:e.page,backable:e.backable}},[n("div",{attrs:{slot:"drawer"},slot:"drawer"},[n("div",{staticClass:"header"},[n("img",{staticClass:"logo",attrs:{src:"https://cdn.luogu.com.cn/upload/usericon/514850.png"}})]),e._v(" "),n("ui-list",{on:{itemClick:function(t){return e.toggle()}}},[n("ui-list-item",{attrs:{title:"首页",to:"/"}},[n("ui-icon",{attrs:{slot:"left",value:"grade"},slot:"left"})],1),e._v(" "),n("ui-list-item",{attrs:{title:"帮助",href:"https://project.yunser.com/articles/ddfecb2002e511e9ad8de53d942e6191",target:"_blank"}},[n("ui-icon",{attrs:{slot:"left",value:"grade"},slot:"left"})],1),e._v(" "),n("ui-list-item",{attrs:{title:"联系 Acerkaio",href:"https://blog.acerkaio.top/",target:"_blank"}},[n("ui-icon",{attrs:{slot:"left",value:"grade"},slot:"left"})],1)],1)],1),e._v(" "),e._t("default")],2)},staticRenderFns:[]};var y=n("VU/8")(v,m,!1,function(e){n("zYFR")},"data-v-68a23066",null).exports,b={install:function(e){e.component("my-page",y)}},_={highlighter:null},w=["hl-red","hl-orange","hl-yellow","hl-green","hl-blue","hl-purple","line-red","line-orange","line-yellow","line-green","line-blue","line-purple"],k=[];_.init=function(){rangy.init(),w.forEach(function(e){var t=rangy.createClassApplier(e,{ignoreWhiteSpace:!0,elementTagName:"span"});k.push(t)})},_.create=function(e){_.highlighter=rangy.createHighlighter(e),k.forEach(function(e){_.highlighter.addClassApplier(e)})},_.save=function(e,t,n,l,i){console.log("selectedText",n);var o=d.get("highlight",{});o[t]=o[t]||[];var r=e.renderer.currentChapter.spinePos;console.log("保存"),console.log(r);var a=_.highlighter.serialize();console.log(a);var c=new function(e,t){this.chapterPos=e,this.highlight=t}(r,a,n);c.id=""+(new Date).getTime(),c.createTime=(new Date).getTime(),c.cfi=l,c.color=i,c.note="",c.selectedText=n,console.log(c),o[t].unshift(c),d.set("highlight",o)},_.load=function(e,t){console.log("bookKey",t);var n=d.get("highlight",{})[t];if(n){var l=e.renderer.currentChapter.spinePos,i=null;n.forEach(function(e){e.chapterPos===l&&(i=e)}),i&&_.highlighter.deserialize(i.highlight)}},_.clear=function(e){var t=d.get("highlight",{});t[e]&&(delete t[e],d.set("highlight",t))},window.QiuPen=_;n("hvFc");i.a.config.productionTip=!1,i.a.prototype.$storage=d,i.a.use(b),new i.a({el:"#app",router:u,template:"<App/>",components:{App:r}})},hvFc:function(e,t){},lRwf:function(e,t){e.exports=Vue},pRNm:function(e,t){e.exports=VueRouter},zYFR:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.e7c95b8aed65dcf0e8f5.js.map